<Window x:Class="PL.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL"
        mc:Ignorable="d"
        Title="Manager Dashboard" Height="526" Width="800"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        KeyDown="Window_KeyDown">

    <Grid Margin="20">

        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#E6F2FF" Offset="0"/>
                <GradientStop Color="#FFFFFF" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Title -->
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10,0,20">
            <TextBlock Text="Welcome to Your Dashboard, Manager ! " 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="DarkBlue" 
                       TextAlignment="Center" />
        </StackPanel>

        <!-- Main Content Grid -->
        <Grid Margin="0,50,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Clock Section -->
            <StackPanel Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" Margin="10,0,10,0" Height="283">
                <Label Content="{Binding CurrentTime}" 
                       FontSize="20" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center" 
                       Foreground="DarkSlateGray" />
                <Button Content="Add One Minute"  Click="btnAddOneMinute_Click" Margin="0,10" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
                <Button Content="Add One Hour"  Click="btnAddOneHour_Click" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
                <Button Content="Add One Day"  Click="btnAddOneDay_Click" Margin="0,10" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
                <Button Content="Add One Month"  Click="btnAddOneMonth_Click" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
                <Button Content="Add One Year"  Click="btnAddOneYear_Click" Margin="0,10" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
            </StackPanel>

            <!-- Configuration Section -->
            <StackPanel Grid.Column="3" Grid.Row="2" VerticalAlignment="Center" Margin="10,0,10,0" Height="129">
                <Label Content="Configuration" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" HorizontalAlignment="Center" Height="34"/>
                <TextBox Text="{Binding RiskRangeProperty}" Width="155" Height="26" Margin="0,0" HorizontalAlignment="Center" />
                <Button Content="Update"  Click="btnUpdateRiskRange_Click" Width="120" Margin="0,10" Height="33"/>
            </StackPanel>

            <!-- Simulator -->
            <StackPanel Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" Margin="10,0,10,0" Height="126">
                <Label Content="Simulator" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" />
                <TextBox Text="{Binding Interval}" Width="149" Margin="0,10" HorizontalAlignment="Center"          IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}" Height="22" />

                <Button Content="{Binding IsSimulatorRunning, Converter={StaticResource ConverterSimulator}, ConverterParameter='Start/Stop'}"  Click="btnSimulator_Click" Width="120" HorizontalAlignment="Center" Height="34" />
            </StackPanel>

            <!-- Management Buttons -->
            <StackPanel Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" Margin="10,0,10,0" Height="262">
                <Label Content="Management Tools" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" HorizontalAlignment="Center"/>
                <Button Content="Handle Volunteers"  Click="btnVolunteersList_Click" Width="180" Margin="0,10"/>
                <Button Content="Handle Calls"  Click="btnCallsList_Click" Width="180" Margin="0,10"/>
                <Button Content="InitDB" Click="btnInit_Click" Width="180" Margin="0,10" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
                <Button Content="ResetDB"  Click="btnResetDB_Click" Width="180" Margin="0,10" IsEnabled="{Binding IsSimulatorRunning, Converter={StaticResource InverseBooleanConverter}}"/>
            </StackPanel>

            <StackPanel Grid.Column="1" Grid.Row="1" VerticalAlignment="Center" Margin="47,0,10,0" Height="283">
                <Label Content="Calls" FontSize="18" FontWeight="Bold" Margin="0,0,0,5" HorizontalAlignment="Center"/>
                <StackPanel Orientation="Vertical" Height="234" Width="219">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="OpenAtRisk"  Width="129" Height="33" Click="ButtonOpen_Click"/>
                        <Label Content="{Binding CallCounts[4]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="In Care" Width="129" Height="33" Click="ButtonInCare_Click"/>
                        <Label Content="{Binding CallCounts[1]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="Closed"  Width="129" Height="33" Click="ButtonClosed_Click"/>
                        <Label Content="{Binding CallCounts[2]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="Expired" Width="129" Height="33" Click="ButtonExpired_Click"/>
                        <Label Content="{Binding CallCounts[3]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="Open"  Width="129" Height="33" Click="ButtonOPenAtRisk_Click" />
                        <Label Content="{Binding CallCounts[0]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,5,0,0">
                        <Button Content="InCareAtRisk"  Width="129" Height="33" Click="ButtonInCareAtRisk_Click"/>
                        <Label Content="{Binding CallCounts[5]}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </StackPanel>

            </StackPanel>

        </Grid>
    </Grid>
</Window>
