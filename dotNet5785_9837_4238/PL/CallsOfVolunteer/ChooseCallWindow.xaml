<!--<Window x:Class="PL.CallsOfVolunteer.ChooseCallWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.CallsOfVolunteer"
        mc:Ignorable="d"
        Title="ChooseCallWindow" Height="450" Width="800"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}">

    <Grid>

        <Grid.Background>
            <LinearGradientBrush StartPoint="0,1" EndPoint="1,1">
                <GradientStop Color="DarkBlue" Offset="0"/>
                <GradientStop Color="#E6F2FF" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>


        --><!--Line of the combobox--><!--
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="19,13,0,7" HorizontalAlignment="Left">
            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Sort By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource OpenCallInListSortCollection}}" 
                      SelectedValue="{Binding Path=SortSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxSort_SelectionChanged" Margin="0,0,20,0"/>

            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Filter By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource CallTypeCollectionKey}}" 
                      SelectedValue="{Binding Path=CallTypeSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxFilter_SelectionChanged"/>
        </StackPanel>


        --><!-- DataGrid for the list of calls --><!--
        <DataGrid Grid.Row="1" ItemsSource="{Binding ListOfCalls}" AutoGenerateColumns="False" IsReadOnly="True" EnableRowVirtualization="True" RowDetailsVisibilityMode="VisibleWhenSelected" Margin="10,10,10,154" Grid.RowSpan="2">

            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding CallId}" Header="Call ID" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding CallType}" Header="Type" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Address}" Header="Address" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding OpenTime}" Header="Open Time" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding MaxTime}" Header="Max Time" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Details}" Header="Details" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Distance}" Header="Distance from you" Width="Auto"/>
                <DataGridTemplateColumn Header="Actions">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Choose me" Click="ChooseCallButton_Click" Tag="{Binding VolunteerId}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>

        </DataGrid>

        --><!-- Return Button --><!--
        <StackPanel Orientation="Horizontal" Grid.Row="2" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button Content="Return to Your Dashboard" Click="ReturnButton_Click" Width="250" Height="50"/>
        </StackPanel>

    </Grid>
</Window>-->

<!--<Window x:Class="PL.CallsOfVolunteer.ChooseCallWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL.CallsOfVolunteer"
        mc:Ignorable="d"
        Title="ChooseCallWindow" Height="450" Width="800"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}">

    <Grid>

        <Grid.Background>
            <LinearGradientBrush StartPoint="0,1" EndPoint="1,1">
                <GradientStop Color="DarkBlue" Offset="0"/>
                <GradientStop Color="#E6F2FF" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>


        -->
<!--Line of the combobox-->
<!--
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="19,13,0,7" HorizontalAlignment="Left">
            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Sort By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource OpenCallInListSortCollection}}" 
                      SelectedValue="{Binding Path=SortSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxSort_SelectionChanged" Margin="0,0,20,0"/>

            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Filter By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource CallTypeCollectionKey}}" 
                      SelectedValue="{Binding Path=CallTypeSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxFilter_SelectionChanged"/>
        </StackPanel>


        -->
<!-- DataGrid for the list of calls -->
<!--
        <DataGrid Grid.Row="1" ItemsSource="{Binding ListOfCalls}" AutoGenerateColumns="False" IsReadOnly="True" EnableRowVirtualization="True" RowDetailsVisibilityMode="VisibleWhenSelected" Margin="10,10,10,154" Grid.RowSpan="2">

            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding CallId}" Header="Call ID" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding CallType}" Header="Type" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Address}" Header="Address" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding OpenTime}" Header="Open Time" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding MaxTime}" Header="Max Time" Width="Auto"/>
                -->
<!--<DataGridTextColumn Binding="{Binding Details}" Header="Details" Width="Auto"/>-->
<!--
                <DataGridTextColumn Binding="{Binding Distance}" Header="Distance from you" Width="Auto"/>
                <DataGridTemplateColumn Header="Actions">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Choose me" Click="ChooseCallButton_Click" Tag="{Binding VolunteerId}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>

        </DataGrid>

        -->
<!-- Return Button -->
<!--
        <StackPanel Orientation="Horizontal" Grid.Row="2" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button Content="Return to Your Dashboard" Click="ReturnButton_Click" Width="250" Height="50"/>
        </StackPanel>

    </Grid>
</Window>-->

<Window x:Class="PL.CallsOfVolunteer.ChooseCallWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="ChooseCallWindow" Height="450" Width="800"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,1" EndPoint="1,1">
                <GradientStop Color="DarkBlue" Offset="0"/>
                <GradientStop Color="#E6F2FF" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="19,13,0,7" HorizontalAlignment="Left">
            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Sort By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource OpenCallInListSortCollection}}" 
                      SelectedValue="{Binding Path=SortSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxSort_SelectionChanged" Margin="0,0,20,0"/>

            <Label FontSize="14" Foreground="#D3D3D3" FontWeight="Bold" Content="Filter By:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding Source={StaticResource CallTypeCollectionKey}}" 
                      SelectedValue="{Binding Path=CallTypeSelected, Mode=TwoWay}" 
                      Width="150" 
                      SelectionChanged="ComboBoxFilter_SelectionChanged"/>
        </StackPanel>

        <!-- DataGrid -->
        <DataGrid Grid.Row="1" ItemsSource="{Binding ListOfCalls}" 
                  AutoGenerateColumns="False" IsReadOnly="True" 
                  RowDetailsVisibilityMode="VisibleWhenSelected" 
                  SelectedItem="{Binding CurrentCall, Mode=TwoWay}" Margin="10">

            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding CallId}" Header="Call ID" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding CallType}" Header="Type" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding Address}" Header="Address" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding OpenTime}" Header="Open Time" Width="Auto"/>
                <DataGridTextColumn Binding="{Binding MaxTime}" Header="Max Time" Width="Auto"/>
                <!--<DataGridTextColumn Binding="{Binding Details}" Header="Details" Width="Auto"/>-->
                <DataGridTemplateColumn Header="Actions">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Choose me" CommandParameter="{Binding}" Command="{Binding DataContext.SelectCallCommand, RelativeSource={RelativeSource AncestorType=Window}}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>

        </DataGrid>

        <TextBlock Grid.Row="2" Text="{Binding CurrentCall.Details}" FontSize="16" FontWeight="Bold" Foreground="Black" HorizontalAlignment="Center" Margin="10" TextWrapping="Wrap" />

        <!-- Bouton retour -->
        <StackPanel Orientation="Horizontal" Grid.Row="3" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button Content="Return to Your Dashboard" Click="ReturnButton_Click" Width="250" Height="50"/>
        </StackPanel>

    </Grid>
</Window>
    
    
